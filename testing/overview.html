<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pruebas &mdash; documentación de Higgs - 7.0.2</title>
      <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=67a8c293" />
      <link rel="stylesheet" type="text/css" href="../static/css/citheme.css" />

  
    <link rel="canonical" href="https://higgs.com.co/testing/overview.html" />
  <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../static/jquery.js?v=5d32c60e"></script>
        <script src="../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../static/documentation_options.js?v=e20d7d46"></script>
        <script src="../static/doctools.js?v=888ff710"></script>
        <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../static/translations.js?v=efdbd0b9"></script>
        <script src="../static/js/citheme.js"></script>
        <script src="../static/js/carbon.js"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Probando su base de datos" href="database.html" />
    <link rel="prev" title="Pruebas" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
          </a>
              <div class="version">
                7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Bienvenido a Higgs (AI)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/hmvc.html">HMVC (Hierarchical Model-View-Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">Cumplimiento de PSR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html">Acuerdo de licencia</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Instalación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_composer.html">Compositor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_manual.html">Instalación manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/running.html">Ejecutando su aplicación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solución de problemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelogs/index.html">Registro de Cambios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Actualizaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/repositories.html">Repositorios</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Cree su primera aplicación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Sección de noticias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Crear noticias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusión</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Descripción general del Higgs (AI)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">Application Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">Modelos, vistas y controladores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">Archivos de carga automática</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">Servicios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">Fábricas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">Trabajar con solicitudes HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">Pautas de seguridad</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Temas generales</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">Configuración en Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URL de Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Funciones auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funciones y constantes globales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">Información de registro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Almacenamiento en caché de páginas web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">Solicitudes AJAX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">Módulos de código</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Administrar sus aplicaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manejo de múltiples entornos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">Enrutamiento URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">Controladores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Filtros del controlador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">Mensajes HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Solicitar clase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">Content Negotiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">Suplantación de método HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">Manejo de recursos RESTful</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Construyendo respuestas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">Puntos de vista</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">Ver celdas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">Ver renderizador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">Ver diseños</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">Ver analizador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_decorators.html">Ver decoradores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">Clase de tabla HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">Rasgo de respuesta API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">Política de seguridad de contenidos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">Localización</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">Sintaxis PHP alternativa para ver archivos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Trabajar con bases de datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Inicio rápido: ejemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuración de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conexión a una base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Ejecución de consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Generando resultados de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funciones auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Clase de generador de consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Actas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtener metadatos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Llamadas a funciones personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/events.html">Eventos de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Utilidades de base de datos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Datos de modelado</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">Usando el modelo de Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">Usando clases de entidad</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Administrar bases de datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">Manipulación de bases de datos con Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">Migraciones de bases de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">Siembra de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">Comandos de base de datos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Referencia de la biblioteca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">Controlador de almacenamiento en caché</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Galletas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">Clase de solicitud CURL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Clase de correo electrónico</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Servicio de cifrado</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">Trabajar con archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_collections.html">Colecciones de archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">clase de miel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">Clase de manipulación de imágenes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">Paginación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">Seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Biblioteca de sesiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">acelerador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">Horarios y fechas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">Tipografía</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">Trabajar con archivos cargados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">Creando instancias de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#cadenas-uri">Cadenas URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#las-partes-de-uri">Las partes de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#segmentos-uri">Segmentos URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#deshabilitar-el-lanzamiento-de-excepciones">Deshabilitar el lanzamiento de excepciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">Clase de agente de usuario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">Validation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Ayudantes</a><ul class="simple">
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Pruebas</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="fabricator.html">Generating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers.html">Controller Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="feature.html">HTTP Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="response.html">Respuestas de prueba</a></li>
<li class="toctree-l2"><a class="reference internal" href="mocking.html">Mocking</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Evaluación comparativa</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Depurando su aplicación</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Uso de la línea de comando</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">Descripción general de la CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">Ejecución de controladores a través de CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Comandos de chispa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">Crear comandos Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">Generadores CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">Clase de solicitud CLI</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Higgs extendido</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">Crear clases de sistema central</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">Reemplazo de funciones comunes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">Ampliación del controlador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">Autenticación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/composer_packages.html">Crear paquetes de compositor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">Contribuyendo al Higgs</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/official_packages.html">Paquetes Oficiales</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Higgs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Pruebas</a></li>
      <li class="breadcrumb-item active">Pruebas</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pruebas">
<h1>Pruebas<a class="headerlink" href="#pruebas" title="Link to this heading"></a></h1>
<p>Higgs se ha creado para que las pruebas tanto del marco como de la aplicación sean lo más sencillas posible.
Soporte para <cite>PHPUnit&lt;https://phpunit.de/&gt;</cite> __ está integrado y el marco proporciona una serie de prácticas
Métodos de ayuda para que probar cada aspecto de su aplicación sea lo más sencillo posible.</p>
<nav class="contents local" id="contenido">
<ul class="simple">
<li><p><a class="reference internal" href="#configuracion-del-sistema" id="id1">Configuración del sistema</a></p>
<ul>
<li><p><a class="reference internal" href="#instalacion-de-phpunit" id="id2">Instalación de PHPUnit</a></p>
<ul>
<li><p><a class="reference internal" href="#compositor" id="id3">Compositor</a></p></li>
<li><p><a class="reference internal" href="#far" id="id4">far</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#probando-su-aplicacion" id="id5">Probando su aplicación</a></p>
<ul>
<li><p><a class="reference internal" href="#configuracion-de-phpunit" id="id6">Configuración de PHPUnit</a></p></li>
<li><p><a class="reference internal" href="#la-clase-de-prueba" id="id7">La clase de prueba</a></p>
<ul>
<li><p><a class="reference internal" href="#puesta-en-escena" id="id8">Puesta en escena</a></p></li>
<li><p><a class="reference internal" href="#rasgos" id="id9">Rasgos</a></p></li>
<li><p><a class="reference internal" href="#afirmaciones-adicionales" id="id10">Afirmaciones adicionales</a></p></li>
<li><p><a class="reference internal" href="#acceso-a-propiedades-protegidas-privadas" id="id11">Acceso a propiedades protegidas/privadas</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#servicios-de-burla" id="id12">Servicios de burla</a></p>
<ul>
<li><p><a class="reference internal" href="#servicios-injectmock" id="id13">Servicios::injectMock()</a></p></li>
<li><p><a class="reference internal" href="#servicios-restablecer" id="id14">Servicios::restablecer()</a></p></li>
<li><p><a class="reference internal" href="#servicios-resetsingle-cadena-nombre" id="id15">Servicios::resetSingle(cadena $nombre)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#burlarse-de-instancias-de-fabrica" id="id16">Burlarse de instancias de fábrica</a></p></li>
<li><p><a class="reference internal" href="#pruebas-y-tiempo" id="id17">Pruebas y tiempo</a></p></li>
<li><p><a class="reference internal" href="#prueba-de-salida-cli" id="id18">Prueba de salida CLI</a></p>
<ul>
<li><p><a class="reference internal" href="#streamfilterrasgo" id="id19">StreamFilterRasgo</a></p></li>
<li><p><a class="reference internal" href="#citeststreamfilter" id="id20">CITestStreamFilter</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#prueba-de-entrada-cli" id="id21">Prueba de entrada CLI</a></p>
<ul>
<li><p><a class="reference internal" href="#phpstreamwrapper" id="id22">PHPStreamWrapper</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="configuracion-del-sistema">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Configuración del sistema</a><a class="headerlink" href="#configuracion-del-sistema" title="Link to this heading"></a></h2>
<section id="instalacion-de-phpunit">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Instalación de PHPUnit</a><a class="headerlink" href="#instalacion-de-phpunit" title="Link to this heading"></a></h3>
<p>Higgs usa <cite>PHPUnit&lt;https://phpunit.de/&gt;</cite> __ como base para todas sus pruebas. Hay dos formas de instalar
PHPUnit para usar dentro de su sistema.</p>
<section id="compositor">
<h4><a class="toc-backref" href="#id3" role="doc-backlink">Compositor</a><a class="headerlink" href="#compositor" title="Link to this heading"></a></h4>
<p>El método recomendado es instalarlo en su proyecto usando <cite>Composer&lt;https://getcomposer.org/&gt;</cite> __. Si bien es posible
Para instalarlo globalmente no lo recomendamos, ya que puede causar problemas de compatibilidad con otros proyectos en su
sistema a medida que pasa el tiempo.</p>
<p>Asegúrese de tener Composer instalado en su sistema. Desde la raíz del proyecto (el directorio que contiene el
directorios de aplicación y sistema) escriba lo siguiente desde la línea de comando:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">el compositor requiere --dev phpunit/phpunit</span>
</pre></div>
</div>
<p>Esto instalará la versión correcta para su versión actual de PHP. Una vez hecho esto, puede ejecutar todos los
pruebas para este proyecto escribiendo:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">proveedor/bin/phpunit</span>
</pre></div>
</div>
<p>Si está utilizando Windows, utilice el siguiente comando:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">proveedor\bin\phpunit</span>
</pre></div>
</div>
</section>
<section id="far">
<h4><a class="toc-backref" href="#id4" role="doc-backlink">far</a><a class="headerlink" href="#far" title="Link to this heading"></a></h4>
<p>La otra opción es descargar el archivo .phar desde <cite>PHPUnit&lt;https://phpunit.de/getting-started/phpunit-9.html&gt;</cite> __ sitio.
Este es un archivo independiente que debe colocarse dentro de la raíz de su proyecto.</p>
</section>
</section>
</section>
<section id="probando-su-aplicacion">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Probando su aplicación</a><a class="headerlink" href="#probando-su-aplicacion" title="Link to this heading"></a></h2>
<section id="configuracion-de-phpunit">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Configuración de PHPUnit</a><a class="headerlink" href="#configuracion-de-phpunit" title="Link to this heading"></a></h3>
<p>En la raíz de su proyecto Higgs, se encuentra el archivo <code class="docutils literal notranslate"><span class="pre">phpunit.xml.dist</span></code>. Este
controla las pruebas unitarias de su aplicación. Si proporciona su propio <code class="docutils literal notranslate"><span class="pre">phpunit.xml</span></code>,
anulará esto.</p>
<p>De forma predeterminada, los archivos de prueba se colocan en el directorio <strong>pruebas</strong> en la raíz del proyecto.</p>
</section>
<section id="la-clase-de-prueba">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">La clase de prueba</a><a class="headerlink" href="#la-clase-de-prueba" title="Link to this heading"></a></h3>
<p>Para aprovechar las herramientas adicionales proporcionadas, sus pruebas deben extenderse
<code class="docutils literal notranslate"><span class="pre">Higgs\Prueba\CIUnitTestCase</span></code>.</p>
<p>No existen reglas sobre cómo se deben colocar los archivos de prueba. Sin embargo, recomendamos que
usted establece reglas de ubicación de antemano para que pueda comprender rápidamente dónde
se encuentran los archivos de prueba.</p>
<p>En este documento, colocaremos los archivos de prueba correspondientes a las clases en
el directorio <strong>app</strong> en el directorio <strong>tests/app</strong>. Para probar una nueva biblioteca,
<strong>app/Libraries/Foo.php</strong>, crearías un nuevo archivo en
<strong>pruebas/app/Libraries/FooTest.php</strong>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">App\Libraries</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">FooTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFooNotBar</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Para probar uno de tus modelos, <strong>app/Models/UserMode.php</strong>, podrías terminar con
algo como esto en <strong>tests/app/Models/UserModelTest.php</strong>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UserModelTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFooNotBar</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Puede crear cualquier estructura de directorio que se ajuste a sus necesidades/estilo de prueba. Al asignar espacios a los nombres de las clases de prueba,
Recuerde que el directorio <strong>app</strong> es la raíz del espacio de nombres <code class="docutils literal notranslate"><span class="pre">App</span></code>, por lo que cualquier clase que utilice debe
tener el espacio de nombres correcto en relación con <code class="docutils literal notranslate"><span class="pre">App</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Namespaces are not strictly required for test classes, but they are helpful to ensure no class names collide.</p>
</div>
<p>Al probar los resultados de la base de datos, debe utilizar <a class="reference internal" href="database.html"><span class="doc">DatabaseTestTrait</span></a>  en tu clase.</p>
<section id="puesta-en-escena">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Puesta en escena</a><a class="headerlink" href="#puesta-en-escena" title="Link to this heading"></a></h4>
<p>La mayoría de las pruebas requieren cierta preparación para ejecutarse correctamente. <code class="docutils literal notranslate"><span class="pre">TestCase</span></code> de PHPUnit proporciona cuatro métodos
para ayudar con la puesta en escena y la limpieza:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">función</span> <span class="nx">estática</span> <span class="nx">pública</span> <span class="nx">setUpBeforeClass</span><span class="p">()</span><span class="o">:</span> <span class="nx">nula</span>
<span class="nx">función</span> <span class="nx">estática</span> <span class="nx">pública</span> <span class="nx">tearDownAfterClass</span><span class="p">()</span><span class="o">:</span> <span class="nx">nula</span>

<span class="nx">configuración</span> <span class="nx">de</span> <span class="nx">función</span> <span class="nx">protegida</span><span class="p">()</span><span class="o">:</span> <span class="nx">nula</span>
<span class="nx">función</span> <span class="nx">protegida</span> <span class="nx">desgarro</span><span class="p">()</span><span class="o">:</span> <span class="nx">nulo</span>
</pre></div>
</div>
<p>Los métodos estáticos <code class="docutils literal notranslate"><span class="pre">setUpBeforeClass()</span></code> y <code class="docutils literal notranslate"><span class="pre">tearDownAfterClass()</span></code> se ejecutan antes y después de todo el caso de prueba, mientras que los métodos protegidos <code class="docutils literal notranslate"><span class="pre">setUp()</span></code> y <code class="docutils literal notranslate"><span class="pre">tearDown()</span></code> se ejecutan.
entre cada prueba.</p>
<p>Si implementa alguna de estas funciones especiales, asegúrese de ejecutarlas
padre también para que los casos de prueba extendidos no interfieran con la puesta en escena:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">UserModelTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">setUp</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">setUp</span><span class="p">();</span> <span class="c1">// Do not forget</span>

        <span class="nx">helper</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="rasgos">
<span id="testing-overview-traits"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">Rasgos</a><a class="headerlink" href="#rasgos" title="Link to this heading"></a></h4>
<p>Una forma común de mejorar sus pruebas es utilizar rasgos para consolidar la puesta en escena en diferentes
Casos de prueba. <code class="docutils literal notranslate"><span class="pre">CIUnitTestCase</span></code> detectará cualquier rasgo de clase y buscará métodos de preparación
para ejecutar el nombre del rasgo en sí (es decir, <cite>setUp{NameOfTrait}()</cite> y <cite>tearDown{NameOfTrait}()</cite>).</p>
<p>Por ejemplo, si necesitara agregar autenticación a algún
de sus casos de prueba, podría crear un rasgo de autenticación con un método de configuración para falsificar un
usuario registrado:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">App\Traits</span><span class="p">;</span>

<span class="k">trait</span> <span class="nx">AuthTrait</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">setUpAuthTrait</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createFakeUser</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">logInUser</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Traits\AuthTrait</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">AuthenticationFeatureTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">AuthTrait</span><span class="p">;</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="afirmaciones-adicionales">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">Afirmaciones adicionales</a><a class="headerlink" href="#afirmaciones-adicionales" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">CIUnitTestCase</span></code> proporciona afirmaciones de pruebas unitarias adicionales que pueden resultarle útiles.</p>
<section id="afirmarlogged-nivel-mensaje-esperado">
<h5>afirmarLogged($nivel, $mensaje esperado)<a class="headerlink" href="#afirmarlogged-nivel-mensaje-esperado" title="Link to this heading"></a></h5>
<p>Asegúrese de que algo que esperaba que se registrara se haya registrado realmente:</p>
</section>
<section id="afirmarlogcontains-nivel-logmessage">
<h5>afirmarLogContains($nivel, $logMessage)<a class="headerlink" href="#afirmarlogcontains-nivel-logmessage" title="Link to this heading"></a></h5>
<p>Asegúrese de que haya un registro en los registros que contenga una parte del mensaje.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Config\Logger</span><span class="p">();</span>
<span class="nv">$logger</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Higgs\Log\Logger</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>

<span class="c1">// check verbatim the log message</span>
<span class="nv">$logger</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s2">&quot;That&#39;s no moon&quot;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertLogged</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s2">&quot;That&#39;s no moon&quot;</span><span class="p">);</span>

<span class="c1">// check that a portion of the message is found in the logs</span>
<span class="nv">$exception</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\RuntimeException</span><span class="p">(</span><span class="s1">&#39;Hello world.&#39;</span><span class="p">);</span>
<span class="nv">$logger</span><span class="o">-&gt;</span><span class="na">log</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="nv">$exception</span><span class="o">-&gt;</span><span class="na">getTraceAsString</span><span class="p">());</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertLogContains</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;{main}&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="afirmareventotriggered-nombredelevento">
<h5>afirmarEventoTriggered($nombredelevento)<a class="headerlink" href="#afirmareventotriggered-nombredelevento" title="Link to this heading"></a></h5>
<p>Asegúrese de que el evento que esperaba que se desencadenara realmente fuera:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Events\Events</span><span class="p">;</span>

<span class="nx">Events</span><span class="o">::</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="k">static</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$arg</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="o">&amp;</span><span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$arg</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">Events</span><span class="o">::</span><span class="na">trigger</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEventTriggered</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="afirmarheaderemitted-encabezado-ignorecase-falso">
<h5>afirmarHeaderEmitted($encabezado, $ignoreCase = falso)<a class="headerlink" href="#afirmarheaderemitted-encabezado-ignorecase-falso" title="Link to this heading"></a></h5>
<p>Asegúrese de que realmente se haya emitido un encabezado o cookie:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">setCookie</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>

<span class="nb">ob_start</span><span class="p">();</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$output</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span> <span class="c1">// in case you want to check the actual body</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertHeaderEmitted</span><span class="p">(</span><span class="s1">&#39;Set-Cookie: foo=bar&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>the test case with this should be <cite>run as a separate process
en unidad PHP&lt;https://docs.phpunit.de/en/9.6/annotations.html#runinseparateprocess&gt;</cite> _.</p>
</div>
<p>afirmarHeaderNotEmitted($encabezado, $ignoreCase = falso)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ^^</p>
<p>Asegúrese de que no se haya emitido un encabezado o cookie:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">setCookie</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>

<span class="nb">ob_start</span><span class="p">();</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="nv">$output</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span> <span class="c1">// in case you want to check the actual body</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertHeaderNotEmitted</span><span class="p">(</span><span class="s1">&#39;Set-Cookie: banana&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>the test case with this should be <cite>run as a separate process
en unidad PHP&lt;https://docs.phpunit.de/en/9.6/annotations.html#runinseparateprocess&gt;</cite> _.</p>
</div>
<p>afirmarCloseEnough($esperado, $actual, $mensaje = “”, $tolerancia = 1)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^^</p>
<p>Para pruebas de tiempo de ejecución extendido, prueba que la diferencia absoluta
entre el tiempo esperado y el real está dentro de la tolerancia prescrita:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Debug\Timer</span><span class="p">;</span>

<span class="nv">$timer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Timer</span><span class="p">();</span>
<span class="nv">$timer</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;longjohn&#39;</span><span class="p">,</span> <span class="nb">strtotime</span><span class="p">(</span><span class="s1">&#39;-11 minutes&#39;</span><span class="p">));</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertCloseEnough</span><span class="p">(</span><span class="mi">11</span> <span class="o">*</span> <span class="mi">60</span><span class="p">,</span> <span class="nv">$timer</span><span class="o">-&gt;</span><span class="na">getElapsedTime</span><span class="p">(</span><span class="s1">&#39;longjohn&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>La prueba anterior permitirá que el tiempo real sea 660 o 661 segundos.</p>
<p>afirmarCloseEnoughString($esperado, $actual, $mensaje = “”, $tolerancia = 1)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^^^^^^^^^^^^</p>
<p>Para pruebas de tiempo de ejecución extendido, prueba que la diferencia absoluta
entre la hora esperada y la real, formateada como cadenas, está dentro de la tolerancia prescrita:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Debug\Timer</span><span class="p">;</span>

<span class="nv">$timer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Timer</span><span class="p">();</span>
<span class="nv">$timer</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;longjohn&#39;</span><span class="p">,</span> <span class="nb">strtotime</span><span class="p">(</span><span class="s1">&#39;-11 minutes&#39;</span><span class="p">));</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertCloseEnoughString</span><span class="p">(</span><span class="mi">11</span> <span class="o">*</span> <span class="mi">60</span><span class="p">,</span> <span class="nv">$timer</span><span class="o">-&gt;</span><span class="na">getElapsedTime</span><span class="p">(</span><span class="s1">&#39;longjohn&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>La prueba anterior permitirá que el tiempo real sea 660 o 661 segundos.</p>
</section>
</section>
<section id="acceso-a-propiedades-protegidas-privadas">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Acceso a propiedades protegidas/privadas</a><a class="headerlink" href="#acceso-a-propiedades-protegidas-privadas" title="Link to this heading"></a></h4>
<p>Al realizar pruebas, puede utilizar los siguientes métodos de establecimiento y obtención para acceder a métodos protegidos y privados y
propiedades en las clases que está probando.</p>
<section id="getprivatemethodinvoker-instancia-metodo">
<h5>getPrivateMethodInvoker($instancia, $método)<a class="headerlink" href="#getprivatemethodinvoker-instancia-metodo" title="Link to this heading"></a></h5>
<p>Le permite llamar a métodos privados desde fuera de la clase. Esto devuelve una función que se puede llamar. La primera
El parámetro es una instancia de la clase a probar. El segundo parámetro es el nombre del método que desea llamar.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">App\Libraries\Foo</span><span class="p">;</span>

<span class="c1">// Create an instance of the class to test</span>
<span class="nv">$obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>

<span class="c1">// Get the invoker for the &#39;privateMethod&#39; method.</span>
<span class="nv">$method</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getPrivateMethodInvoker</span><span class="p">(</span><span class="nv">$obj</span><span class="p">,</span> <span class="s1">&#39;privateMethod&#39;</span><span class="p">);</span>

<span class="c1">// Test the results</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nv">$method</span><span class="p">(</span><span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="getprivateproperty-instancia-propiedad">
<h5>getPrivateProperty($instancia, $propiedad)<a class="headerlink" href="#getprivateproperty-instancia-propiedad" title="Link to this heading"></a></h5>
<p>Recupera el valor de una propiedad de clase privada/protegida de una instancia de una clase. El primer parámetro es un
instancia de la clase a probar. El segundo parámetro es el nombre de la propiedad.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">App\Libraries\Foo</span><span class="p">;</span>

<span class="c1">// Create an instance of the class to test</span>
<span class="nv">$obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>

<span class="c1">// Test the value</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getPrivateProperty</span><span class="p">(</span><span class="nv">$obj</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="setprivateproperty-instancia-propiedad-valor">
<h5>setPrivateProperty($instancia, $propiedad, $valor)<a class="headerlink" href="#setprivateproperty-instancia-propiedad-valor" title="Link to this heading"></a></h5>
<p>Establezca un valor protegido dentro de una instancia de clase. El primer parámetro es una instancia de la clase a probar. El segundo
El parámetro es el nombre de la propiedad para establecer el valor. El tercer parámetro es el valor para establecerlo:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">App\Libraries\Foo</span><span class="p">;</span>

<span class="c1">// Create an instance of the class to test</span>
<span class="nv">$obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>

<span class="c1">// Set the value</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setPrivateProperty</span><span class="p">(</span><span class="nv">$obj</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;oops!&#39;</span><span class="p">);</span>

<span class="c1">// Do normal testing...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="servicios-de-burla">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Servicios de burla</a><a class="headerlink" href="#servicios-de-burla" title="Link to this heading"></a></h3>
<p>A menudo encontrará que necesita simular uno de los servicios definidos en <strong>app/Config/Services.php</strong> para limitar
sus pruebas solo al código en cuestión, mientras simula varias respuestas de los servicios. Esto es especialmente
Es cierto al probar controladores y otras pruebas de integración. La clase <strong>Servicios</strong> proporciona los siguientes métodos
para simplificar esto.</p>
<section id="servicios-injectmock">
<h4><a class="toc-backref" href="#id13" role="doc-backlink">Servicios::injectMock()</a><a class="headerlink" href="#servicios-injectmock" title="Link to this heading"></a></h4>
<p>Este método le permite definir la instancia exacta que devolverá la clase Servicios. Puedes usar esto para
establecer propiedades de un servicio para que se comporte de cierta manera, o reemplazar un servicio con una clase simulada.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\HTTP\CURLRequest</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Config\Services</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">SomeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSomething</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$curlrequest</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getMockBuilder</span><span class="p">(</span><span class="nx">CURLRequest</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">onlyMethods</span><span class="p">([</span><span class="s1">&#39;request&#39;</span><span class="p">])</span>
            <span class="o">-&gt;</span><span class="na">getMock</span><span class="p">();</span>
        <span class="nx">Services</span><span class="o">::</span><span class="na">injectMock</span><span class="p">(</span><span class="s1">&#39;curlrequest&#39;</span><span class="p">,</span> <span class="nv">$curlrequest</span><span class="p">);</span>

        <span class="c1">// Do normal testing here....</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>El primer parámetro es el servicio que está reemplazando. El nombre debe coincidir con el nombre de la función en los Servicios.
clase exactamente. El segundo parámetro es la instancia con la que reemplazarlo.</p>
</section>
<section id="servicios-restablecer">
<h4><a class="toc-backref" href="#id14" role="doc-backlink">Servicios::restablecer()</a><a class="headerlink" href="#servicios-restablecer" title="Link to this heading"></a></h4>
<p>Elimina todas las clases simuladas de la clase Servicios y la devuelve a su estado original.</p>
<p>También puede utilizar el método <code class="docutils literal notranslate"><span class="pre">$this-&gt;resetServices()</span></code> que proporciona <code class="docutils literal notranslate"><span class="pre">CIUnitTestCase</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>This method resets the all states of Services, and the <code class="docutils literal notranslate"><span class="pre">RouteCollection</span></code>
no tendrá rutas. Si desea utilizar sus rutas para cargar, debe
llame al método <code class="docutils literal notranslate"><span class="pre">loadRoutes()</span></code> como <code class="docutils literal notranslate"><span class="pre">Services::routes()-&gt;loadRoutes()</span></code>.</p>
</div>
</section>
<section id="servicios-resetsingle-cadena-nombre">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Servicios::resetSingle(cadena $nombre)</a><a class="headerlink" href="#servicios-resetsingle-cadena-nombre" title="Link to this heading"></a></h4>
<p>Elimina cualquier instancia simulada y compartida de un único servicio, por su nombre.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Cache</span></code>, <code class="docutils literal notranslate"><span class="pre">Email</span></code> and <code class="docutils literal notranslate"><span class="pre">Session</span></code> services are mocked by default to prevent intrusive testing behavior. To prevent these from mocking remove their method callback from the class property: <code class="docutils literal notranslate"><span class="pre">$setUpMethods</span> <span class="pre">=</span> <span class="pre">['mockEmail',</span> <span class="pre">'mockSession'];</span></code></p>
</div>
</section>
</section>
<section id="burlarse-de-instancias-de-fabrica">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Burlarse de instancias de fábrica</a><a class="headerlink" href="#burlarse-de-instancias-de-fabrica" title="Link to this heading"></a></h3>
<p>De manera similar a Servicios, es posible que necesite proporcionar una instancia de clase preconfigurada
durante las pruebas que se utilizarán con <code class="docutils literal notranslate"><span class="pre">Factories</span></code>. Utilice las mismas <code class="docutils literal notranslate"><span class="pre">Factories::injectMock()</span></code> y <code class="docutils literal notranslate"><span class="pre">Factories::reset()</span></code>
métodos estáticos como <strong>Servicios</strong>, pero toman un parámetro anterior adicional para el
Nombre del componente:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Models\UserModel</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Tests\Support\Mock\MockUserModel</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">SomeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">setUp</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">setUp</span><span class="p">();</span>

        <span class="nv">$model</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MockUserModel</span><span class="p">();</span>
        <span class="nx">Factories</span><span class="o">::</span><span class="na">injectMock</span><span class="p">(</span><span class="s1">&#39;models&#39;</span><span class="p">,</span> <span class="nx">UserModel</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$model</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>All component Factories are reset by default between each test. Modify your test case’s <code class="docutils literal notranslate"><span class="pre">$setUpMethods</span></code> if you need instances to persist.</p>
</div>
</section>
<section id="pruebas-y-tiempo">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Pruebas y tiempo</a><a class="headerlink" href="#pruebas-y-tiempo" title="Link to this heading"></a></h3>
<p>Probar código que depende del tiempo puede ser un desafío. Sin embargo, al utilizar el
<a class="reference internal" href="../libraries/time.html"><span class="doc">Clase Hora</span></a>, la hora actual se puede fijar o cambiar
a voluntad durante la prueba.</p>
<p>A continuación se muestra un código de prueba de muestra que fija la hora actual:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\I18n\Time</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">TimeDependentCodeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">tearDown</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">tearDown</span><span class="p">();</span>

        <span class="c1">// Reset the current time.</span>
        <span class="nx">Time</span><span class="o">::</span><span class="na">setTestNow</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFixTime</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// Fix the current time to &quot;2023-11-25 12:00:00&quot;.</span>
        <span class="nx">Time</span><span class="o">::</span><span class="na">setTestNow</span><span class="p">(</span><span class="s1">&#39;2023-11-25 12:00:00&#39;</span><span class="p">);</span>

        <span class="c1">// This assertion always passes.</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">&#39;2023-11-25 12:00:00&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nx">Time</span><span class="o">::</span><span class="na">now</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Puede fijar la hora actual con el método <code class="docutils literal notranslate"><span class="pre">Time::setTestNow()</span></code>.
Opcionalmente, puede especificar una configuración regional como segundo parámetro.</p>
<p>No olvide restablecer la hora actual después de la prueba llamándola sin
parámetros.</p>
</section>
<section id="prueba-de-salida-cli">
<span id="testing-cli-output"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink">Prueba de salida CLI</a><a class="headerlink" href="#prueba-de-salida-cli" title="Link to this heading"></a></h3>
<section id="streamfilterrasgo">
<h4><a class="toc-backref" href="#id19" role="doc-backlink">StreamFilterRasgo</a><a class="headerlink" href="#streamfilterrasgo" title="Link to this heading"></a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 7.0.0.</span></p>
</div>
<p><strong>StreamFilterTrait</strong> proporciona una alternativa a estos métodos auxiliares.</p>
<p>Es posible que necesite probar cosas que son difíciles de probar. A veces, capturar una secuencia, como el propio STDOUT o STDERR de PHP,
podría ser útil. <code class="docutils literal notranslate"><span class="pre">StreamFilterTrait</span></code> le ayuda a capturar el resultado de la secuencia de su elección.</p>
<p><strong>Resumen de métodos</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">StreamFilterTrait::getStreamFilterBuffer()</span></code> Obtiene los datos capturados del búfer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamFilterTrait::resetStreamFilterBuffer()</span></code> Restablecer los datos capturados.</p></li>
</ul>
<p>Un ejemplo que demuestra esto dentro de uno de sus casos de prueba:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\CLI\CLI</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\StreamFilterTrait</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">SomeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">StreamFilterTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSomeOutput</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">CLI</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;first.&#39;</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">first.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getStreamFilterBuffer</span><span class="p">());</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">resetStreamFilterBuffer</span><span class="p">();</span>

        <span class="nx">CLI</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;second.&#39;</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s2">&quot;second.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getStreamFilterBuffer</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>El <code class="docutils literal notranslate"><span class="pre">StreamFilterTrait</span></code> tiene un configurador que se llama automáticamente.
Ver <a class="reference internal" href="#testing-overview-traits"><span class="std std-ref">Prueba de rasgos</span></a> .</p>
<p>Si anula los métodos <code class="docutils literal notranslate"><span class="pre">setUp()</span></code> o <code class="docutils literal notranslate"><span class="pre">tearDown()</span></code> en su prueba, entonces debe llamar a <code class="docutils literal notranslate"><span class="pre">parent::setUp()</span></code> y
Métodos <code class="docutils literal notranslate"><span class="pre">parent::tearDown()</span></code> respectivamente para configurar <code class="docutils literal notranslate"><span class="pre">StreamFilterTrait</span></code>.</p>
</section>
<section id="citeststreamfilter">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">CITestStreamFilter</a><a class="headerlink" href="#citeststreamfilter" title="Link to this heading"></a></h4>
<p><strong>CITestStreamFilter</strong> para uso manual/único.</p>
<p>Si necesita capturar transmisiones en una sola prueba, en lugar de usar el rasgo StreamFilterTrait, puede hacerlo manualmente.
agregar un filtro a las transmisiones.</p>
<p><strong>Resumen de métodos</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CITestStreamFilter::registration()</span></code> Registro de filtro.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CITestStreamFilter::addOutputFilter()</span></code> Agregar un filtro al flujo de salida.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CITestStreamFilter::addErrorFilter()</span></code> Agregando un filtro al flujo de errores.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CITestStreamFilter::removeOutputFilter()</span></code> Eliminando un filtro del flujo de salida.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CITestStreamFilter::removeErrorFilter()</span></code> Eliminando un filtro de la secuencia de errores.</p></li>
</ul>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\CLI\CLI</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\Filters\CITestStreamFilter</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">SomeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSomeOutput</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">CITestStreamFilter</span><span class="o">::</span><span class="na">registration</span><span class="p">();</span>
        <span class="nx">CITestStreamFilter</span><span class="o">::</span><span class="na">addOutputFilter</span><span class="p">();</span>

        <span class="nx">CLI</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;first.&#39;</span><span class="p">);</span>

        <span class="nx">CITestStreamFilter</span><span class="o">::</span><span class="na">removeOutputFilter</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="prueba-de-entrada-cli">
<span id="testing-cli-input"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink">Prueba de entrada CLI</a><a class="headerlink" href="#prueba-de-entrada-cli" title="Link to this heading"></a></h3>
<section id="phpstreamwrapper">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">PHPStreamWrapper</a><a class="headerlink" href="#phpstreamwrapper" title="Link to this heading"></a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 7.0.0.</span></p>
</div>
<p><strong>PhpStreamWrapper</strong> proporciona una forma de escribir pruebas para métodos que requieren la entrada del usuario.
como <code class="docutils literal notranslate"><span class="pre">CLI::prompt()</span></code>, <code class="docutils literal notranslate"><span class="pre">CLI::wait()</span></code> y <code class="docutils literal notranslate"><span class="pre">CLI::input()</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>The PhpStreamWrapper is a stream wrapper class.
Si no conoce el contenedor de flujo de PHP,
ver <cite>La clase streamWrapper&lt;https://www.php.net/manual/en/class.streamwrapper.php&gt;</cite> _
en el manual de PHP.</p>
</div>
<p><strong>Resumen de métodos</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PhpStreamWrapper::register()</span></code> Registre <code class="docutils literal notranslate"><span class="pre">PhpStreamWrapper</span></code> en el protocolo <code class="docutils literal notranslate"><span class="pre">php</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PhpStreamWrapper::restore()</span></code> Restaura el contenedor del protocolo php nuevamente al contenedor integrado de PHP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PhpStreamWrapper::setContent()</span></code> Establece los datos de entrada.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Importante</p>
<p>The PhpStreamWrapper is intended for only testing <code class="docutils literal notranslate"><span class="pre">php://stdin</span></code>.
Pero cuando lo registras, maneja todo el protocolo <cite>php&lt;https://www.php.net/manual/en/wrappers.php.php&gt;</cite> _ corrientes,
como <code class="docutils literal notranslate"><span class="pre">php://stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">php://stderr</span></code>, <code class="docutils literal notranslate"><span class="pre">php://memory</span></code>.
Por lo tanto, se recomienda encarecidamente registrar o cancelar el registro de <code class="docutils literal notranslate"><span class="pre">PhpStreamWrapper</span></code>.
sólo cuando sea necesario. De lo contrario, interferirá con otras secuencias PHP integradas.
mientras está registrado.</p>
</div>
<p>Un ejemplo que demuestra esto dentro de uno de sus casos de prueba:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Tests</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\CLI\CLI</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\CIUnitTestCase</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Test\PhpStreamWrapper</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">SomeTest</span> <span class="k">extends</span> <span class="nx">CIUnitTestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testPrompt</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// Register the PhpStreamWrapper.</span>
        <span class="nx">PhpStreamWrapper</span><span class="o">::</span><span class="na">register</span><span class="p">();</span>

        <span class="c1">// Set the user input to &#39;red&#39;. It will be provided as `php://stdin` output.</span>
        <span class="nv">$expected</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">;</span>
        <span class="nx">PhpStreamWrapper</span><span class="o">::</span><span class="na">setContent</span><span class="p">(</span><span class="nv">$expected</span><span class="p">);</span>

        <span class="nv">$output</span> <span class="o">=</span> <span class="nx">CLI</span><span class="o">::</span><span class="na">prompt</span><span class="p">(</span><span class="s1">&#39;What is your favorite color?&#39;</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$output</span><span class="p">);</span>

        <span class="c1">// Restore php protocol wrapper.</span>
        <span class="nx">PhpStreamWrapper</span><span class="o">::</span><span class="na">restore</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="index.html" class="btn btn-neutral float-left" title="Pruebas" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="database.html" class="btn btn-neutral float-right" title="Probando su base de datos" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2012-2025 Jose Alexis Correa Valencia.
      <span class="lastupdated">Actualizado por última vez en feb 16, 2025.
      </span></p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>