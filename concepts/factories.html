<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fábricas &mdash; documentación de Higgs - 7.0.2</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=67a8c293" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme.css?v=d9728d44" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://higgs.com.co/concepts/factories.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=e20d7d46"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=efdbd0b9"></script>
        <script src="../_static/js/citheme.js?v=e0bcfc84"></script>
        <script src="../_static/js/carbon.js?v=693e881e"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Trabajar con solicitudes HTTP" href="http.html" />
    <link rel="prev" title="Servicios" href="services.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.svg" class="logo" alt="Logotipo"/>
          </a>
              <div class="version">
                7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Bienvenido a Higgs (AI)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/hmvc.html">HMVC (Hierarchical Model-View-Controller)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">Cumplimiento de PSR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html">Acuerdo de licencia</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Instalación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_composer.html">Compositor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_manual.html">Instalación manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/running.html">Ejecutando su aplicación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solución de problemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelogs/index.html">Registro de Cambios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Actualizaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/repositories.html">Repositorios</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Cree su primera aplicación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Sección de noticias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Crear noticias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusión</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Descripción general del Higgs (AI)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structure.html">Application Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvc.html">Modelos, vistas y controladores</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoloader.html">Archivos de carga automática</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Servicios</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Fábricas</a></li>
<li class="toctree-l2"><a class="reference internal" href="http.html">Trabajar con solicitudes HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Pautas de seguridad</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Temas generales</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">Configuración en Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URL de Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Funciones auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funciones y constantes globales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">Información de registro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Almacenamiento en caché de páginas web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">Solicitudes AJAX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">Módulos de código</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Administrar sus aplicaciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manejo de múltiples entornos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">Enrutamiento URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">Controladores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Filtros del controlador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">Mensajes HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Solicitar clase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">Content Negotiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">Suplantación de método HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">Manejo de recursos RESTful</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Construyendo respuestas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">Puntos de vista</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">Ver celdas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">Ver renderizador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">Ver diseños</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">Ver analizador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_decorators.html">Ver decoradores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">Clase de tabla HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">Rasgo de respuesta API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">Política de seguridad de contenidos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">Localización</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">Sintaxis PHP alternativa para ver archivos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Trabajar con bases de datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Inicio rápido: ejemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuración de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conexión a una base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Ejecución de consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Generando resultados de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funciones auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Clase de generador de consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Actas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtener metadatos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Llamadas a funciones personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/events.html">Eventos de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Utilidades de base de datos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Datos de modelado</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">Usando el modelo de Higgs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">Usando clases de entidad</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Administrar bases de datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">Manipulación de bases de datos con Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">Migraciones de bases de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">Siembra de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">Comandos de base de datos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Referencia de la biblioteca</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">Controlador de almacenamiento en caché</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Galletas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">Clase de solicitud CURL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Clase de correo electrónico</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Servicio de cifrado</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">Trabajar con archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_collections.html">Colecciones de archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">clase de miel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">Clase de manipulación de imágenes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">Paginación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">Seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Biblioteca de sesiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">acelerador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">Horarios y fechas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">Tipografía</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">Trabajar con archivos cargados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">Creando instancias de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#cadenas-uri">Cadenas URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#las-partes-de-uri">Las partes de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#segmentos-uri">Segmentos URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html#deshabilitar-el-lanzamiento-de-excepciones">Deshabilitar el lanzamiento de excepciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">Clase de agente de usuario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">Validation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Ayudantes</a><ul class="simple">
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Pruebas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">Generating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">Controller Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/response.html">Respuestas de prueba</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/mocking.html">Mocking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">Evaluación comparativa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">Depurando su aplicación</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Uso de la línea de comando</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">Descripción general de la CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">Ejecución de controladores a través de CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Comandos de chispa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">Crear comandos Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">Generadores CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">Clase de solicitud CLI</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Higgs extendido</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">Crear clases de sistema central</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">Reemplazo de funciones comunes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">Eventos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">Ampliación del controlador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">Autenticación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/composer_packages.html">Crear paquetes de compositor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">Contribuyendo al Higgs</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/official_packages.html">Paquetes Oficiales</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Higgs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Descripción general del Higgs (AI)</a></li>
      <li class="breadcrumb-item active">Fábricas</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fabricas">
<h1>Fábricas<a class="headerlink" href="#fabricas" title="Link to this heading"></a></h1>
<nav class="contents local" id="contenido">
<ul class="simple">
<li><p><a class="reference internal" href="#introduccion" id="id1">Introducción</a></p>
<ul>
<li><p><a class="reference internal" href="#que-son-las-fabricas" id="id2">¿Qué son las fábricas?</a></p></li>
<li><p><a class="reference internal" href="#diferencias-con-los-servicios" id="id3">Diferencias con los servicios</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cargando-clases" id="id4">Cargando clases</a></p>
<ul>
<li><p><a class="reference internal" href="#cargando-una-clase" id="id5">Cargando una clase</a></p>
<ul>
<li><p><a class="reference internal" href="#pasar-nombre-de-clase-sin-espacio-de-nombres" id="id6">Pasar nombre de clase sin espacio de nombres</a></p></li>
<li><p><a class="reference internal" href="#aprobar-el-nombre-de-clase-completo-y-calificado" id="id7">Aprobar el nombre de clase completo y calificado</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#funciones-de-conveniencia" id="id8">Funciones de conveniencia</a></p>
<ul>
<li><p><a class="reference internal" href="#configuracion" id="id9">configuración()</a></p></li>
<li><p><a class="reference internal" href="#modelo" id="id10">modelo()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#definicion-del-nombre-de-clase-que-se-cargara" id="id11">Definición del nombre de clase que se cargará</a></p></li>
<li><p><a class="reference internal" href="#parametros-de-fabrica" id="id12">Parámetros de fábrica</a></p></li>
<li><p><a class="reference internal" href="#opciones-de-fabricas" id="id13">Opciones de fábricas</a></p></li>
<li><p><a class="reference internal" href="#comportamiento-de-las-fabricas" id="id14">Comportamiento de las fábricas</a></p>
<ul>
<li><p><a class="reference internal" href="#configuraciones" id="id15">Configuraciones</a></p>
<ul>
<li><p><a class="reference internal" href="#ejemplo-fabricas-de-filtros" id="id16">Ejemplo: Fábricas de filtros</a></p></li>
<li><p><a class="reference internal" href="#ejemplo-fabricas-de-bibliotecas" id="id17">Ejemplo: fábricas de bibliotecas</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#metodo-setoptions" id="id18">Método setOptions</a></p></li>
<li><p><a class="reference internal" href="#opciones-de-parametros" id="id19">Opciones de parámetros</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuracion-de-almacenamiento-en-cache" id="id20">Configuración de almacenamiento en caché</a></p>
<ul>
<li><p><a class="reference internal" href="#requisito-previo" id="id21">Requisito previo</a></p></li>
<li><p><a class="reference internal" href="#como-funciona" id="id22">Cómo funciona</a></p></li>
<li><p><a class="reference internal" href="#como-actualizar-los-valores-de-configuracion" id="id23">Cómo actualizar los valores de configuración</a></p></li>
<li><p><a class="reference internal" href="#como-habilitar-el-almacenamiento-en-cache-de-configuracion" id="id24">Cómo habilitar el almacenamiento en caché de configuración</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduccion">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Introducción</a><a class="headerlink" href="#introduccion" title="Link to this heading"></a></h2>
<section id="que-son-las-fabricas">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">¿Qué son las fábricas?</a><a class="headerlink" href="#que-son-las-fabricas" title="Link to this heading"></a></h3>
<p>Como <a class="reference internal" href="services.html"><span class="doc">Servicios</span></a>, <strong>Factories</strong> son una extensión de carga automática que ayuda a mantener su código
conciso pero óptimo, sin tener que pasar instancias de objetos entre clases.</p>
<p>Las fábricas son similares a <code class="docutils literal notranslate"><span class="pre">$this-&gt;load</span></code> de Higgs 3 en los siguientes puntos:</p>
<ul class="simple">
<li><p>Cargar una clase</p></li>
<li><p>Compartir la instancia de clase cargada</p></li>
</ul>
<p>En su
Más simple, las fábricas proporcionan una forma común de crear una instancia de clase y acceder a ella desde
en cualquier lugar. Esta es una excelente manera de reutilizar los estados de los objetos y reducir la carga de memoria para mantener
múltiples instancias cargadas en su aplicación.</p>
<p>Las fábricas pueden cargar cualquier clase, pero los mejores ejemplos son aquellas clases que se utilizan
para trabajar o transmitir datos comunes. El marco en sí utiliza fábricas internamente, por ejemplo, para
asegúrese de que se cargue la configuración correcta cuando utilice la clase <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p>
</section>
<section id="diferencias-con-los-servicios">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Diferencias con los servicios</a><a class="headerlink" href="#diferencias-con-los-servicios" title="Link to this heading"></a></h3>
<p>Las fábricas requieren un nombre de clase concreto para crear instancias y no tienen código para crear instancias.</p>
<p>Entonces, las fábricas no son buenas para crear una instancia compleja que necesita muchas dependencias.
y no puede cambiar la clase de la instancia que se devolverá.</p>
<p>Por otro lado, los Servicios tienen código para crear instancias, por lo que pueden crear una instancia compleja.
que necesita otros servicios o instancias de clase. Cuando obtiene un servicio, los Servicios requieren un nombre de servicio,
no es un nombre de clase, por lo que la instancia devuelta se puede cambiar sin cambiar el código del cliente.</p>
</section>
</section>
<section id="cargando-clases">
<span id="factories-loading-class"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Cargando clases</a><a class="headerlink" href="#cargando-clases" title="Link to this heading"></a></h2>
<section id="cargando-una-clase">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Cargando una clase</a><a class="headerlink" href="#cargando-una-clase" title="Link to this heading"></a></h3>
<p>Eche un vistazo a <strong>Modelos</strong> como ejemplo. Podrás acceder a la Fábrica específica de Modelos
utilizando el método estático mágico de la clase Fábricas, <code class="docutils literal notranslate"><span class="pre">Factories::models()</span></code>.</p>
<p>El nombre del método estático se llama <em>componente</em>.</p>
<section id="pasar-nombre-de-clase-sin-espacio-de-nombres">
<span id="factories-passing-classname-without-namespace"></span><h4><a class="toc-backref" href="#id6" role="doc-backlink">Pasar nombre de clase sin espacio de nombres</a><a class="headerlink" href="#pasar-nombre-de-clase-sin-espacio-de-nombres" title="Link to this heading"></a></h4>
<p>Si pasa un nombre de clase sin un espacio de nombres, Factories primero busca en el
Espacio de nombres <code class="docutils literal notranslate"><span class="pre">App</span></code> para la ruta correspondiente al nombre del método estático mágico.
<code class="docutils literal notranslate"><span class="pre">Factories::models()</span></code> busca en el directorio <strong>app/Models</strong>.</p>
<section id="pasando-nombre-de-clase-corto">
<h5>Pasando nombre de clase corto<a class="headerlink" href="#pasando-nombre-de-clase-corto" title="Link to this heading"></a></h5>
<p>En el siguiente código, si tiene <code class="docutils literal notranslate"><span class="pre">App\Models\UserModel</span></code>, se devolverá la instancia:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Si no tiene <code class="docutils literal notranslate"><span class="pre">App\Models\UserModel</span></code>, busca <code class="docutils literal notranslate"><span class="pre">Models\UserModel</span></code> en todos los espacios de nombres.</p>
<p>La próxima vez que solicite la misma clase en cualquier parte de su código, Factories se asegurará
recuperas la instancia como antes:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SomeOtherClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">someFunction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">);</span>

        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pasar-un-nombre-de-clase-corto-con-subdirectorios">
<h5>Pasar un nombre de clase corto con subdirectorios<a class="headerlink" href="#pasar-un-nombre-de-clase-corto-con-subdirectorios" title="Link to this heading"></a></h5>
<p>Si desea cargar una clase en subdirectorios, utilice <code class="docutils literal notranslate"><span class="pre">/</span></code> como separador.
El siguiente código carga <strong>app/Libraries/Sub/SubLib.php</strong> si existe:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$lib</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">libraries</span><span class="p">(</span><span class="s1">&#39;Sub/SubLib&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="aprobar-el-nombre-de-clase-completo-y-calificado">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Aprobar el nombre de clase completo y calificado</a><a class="headerlink" href="#aprobar-el-nombre-de-clase-completo-y-calificado" title="Link to this heading"></a></h4>
<p>También puede solicitar un nombre de clase completo y calificado:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;Blog\Models\UserModel&#39;</span><span class="p">);</span>
<span class="c1">// Or</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="nx">\Blog\Models\UserModel</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>Devuelve la instancia de <code class="docutils literal notranslate"><span class="pre">Blog\Models\UserModel</span></code> si existe.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Prior to v7.4.0, when you requested a full qualified classname,
si solo tuviera <code class="docutils literal notranslate"><span class="pre">Blog\Models\UserModel</span></code>, se devolvería la instancia.
Pero si tuviera tanto <code class="docutils literal notranslate"><span class="pre">App\Models\UserModel</span></code> como <code class="docutils literal notranslate"><span class="pre">Blog\Models\UserModel</span></code>,
se devolvería la instancia de <code class="docutils literal notranslate"><span class="pre">App\Models\UserModel</span></code>.</p>
<p>Si quería obtener <code class="docutils literal notranslate"><span class="pre">Blog\Models\UserModel</span></code>, necesitaba desactivar el
opción <code class="docutils literal notranslate"><span class="pre">preferApp</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;Blog\Models\UserModel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;preferApp&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="funciones-de-conveniencia">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Funciones de conveniencia</a><a class="headerlink" href="#funciones-de-conveniencia" title="Link to this heading"></a></h2>
<p>Se han proporcionado dos funciones de acceso directo para Fábricas. Estas funciones están siempre disponibles.</p>
<section id="configuracion">
<span id="factories-config"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink">configuración()</a><a class="headerlink" href="#configuracion" title="Link to this heading"></a></h3>
<p>El primero es <a class="reference internal" href="../general/common_functions.html#config" title="config"><code class="xref php php-func docutils literal notranslate"><span class="pre">config()</span></code></a> que devuelve una nueva instancia de una clase Config. El único parámetro requerido es el nombre de la clase:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$appConfig</span> <span class="o">=</span> <span class="nx">config</span><span class="p">(</span><span class="s1">&#39;App&#39;</span><span class="p">);</span>

<span class="c1">// The code above is the same as the code below.</span>
<span class="nv">$appConfig</span> <span class="o">=</span> <span class="nx">\Higgs\Config\Factories</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;App&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="modelo">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">modelo()</a><a class="headerlink" href="#modelo" title="Link to this heading"></a></h3>
<p>La segunda función, <a class="reference internal" href="../general/common_functions.html#model" title="model"><code class="xref php php-func docutils literal notranslate"><span class="pre">model()</span></code></a> devuelve una nueva instancia de una clase Modelo. El único parámetro requerido es el nombre de la clase:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$user</span> <span class="o">=</span> <span class="nx">model</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">);</span>

<span class="c1">// The code above is the same as the code below.</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="nx">\Higgs\Config\Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="definicion-del-nombre-de-clase-que-se-cargara">
<span id="factories-defining-classname-to-be-loaded"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">Definición del nombre de clase que se cargará</a><a class="headerlink" href="#definicion-del-nombre-de-clase-que-se-cargara" title="Link to this heading"></a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 4.4.0.</span></p>
</div>
<p>Puede definir un nombre de clase para cargar antes de cargar la clase con
el método <code class="docutils literal notranslate"><span class="pre">Fábricas::define()</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nx">Factories</span><span class="o">::</span><span class="na">define</span><span class="p">(</span><span class="s1">&#39;models&#39;</span><span class="p">,</span> <span class="s1">&#39;Myth\Auth\Models\UserModel&#39;</span><span class="p">,</span> <span class="s1">&#39;App\Models\UserModel&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>El primer parámetro es un componente. El segundo parámetro es un alias de clase.
(el primer parámetro del método estático mágico de Factories) y el tercer parámetro
es el verdadero nombre de clase completo que se cargará.</p>
<p>Después de eso, si carga <code class="docutils literal notranslate"><span class="pre">Myth\Auth\Models\UserModel</span></code> con Factories, el
Se devolverá la instancia <code class="docutils literal notranslate"><span class="pre">App\Models\UserModel</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$users</span> <span class="o">=</span> <span class="nx">model</span><span class="p">(</span><span class="s1">&#39;Myth\Auth\Models\UserModel&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="parametros-de-fabrica">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Parámetros de fábrica</a><a class="headerlink" href="#parametros-de-fabrica" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Factories</span></code> toma como segundo parámetro una matriz de valores de opciones (descritos a continuación).
Estas directivas anularán las opciones predeterminadas configuradas para cada componente.</p>
<p>Cualquier parámetro adicional pasado al mismo tiempo se reenviará a la clase.
constructor, lo que facilita la configuración de su instancia de clase sobre la marcha. Por ejemplo, digamos
su aplicación utiliza una base de datos separada para la autenticación y desea asegurarse de que cualquier intento
para acceder a los registros de usuario siempre pase por esa conexión:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$conn</span>  <span class="o">=</span> <span class="nx">db_connect</span><span class="p">(</span><span class="s1">&#39;auth&#39;</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="nv">$conn</span><span class="p">);</span>
</pre></div>
</div>
<p>Ahora, cada vez que se carga el <code class="docutils literal notranslate"><span class="pre">UserModel</span></code> desde <code class="docutils literal notranslate"><span class="pre">Factories</span></code>, de hecho devolverá un
Instancia de clase que utiliza la conexión de base de datos alternativa.</p>
</section>
<section id="opciones-de-fabricas">
<span id="factories-options"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">Opciones de fábricas</a><a class="headerlink" href="#opciones-de-fabricas" title="Link to this heading"></a></h2>
<p>Es posible que el comportamiento predeterminado no funcione para todos los componentes. Por ejemplo, diga su componente
El nombre y su ruta no se alinean, o necesita limitar las instancias a un determinado tipo de clase.
Cada componente requiere un conjunto de opciones para dirigir el descubrimiento y la creación de instancias.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Since v7.4.0, <code class="docutils literal notranslate"><span class="pre">preferApp</span></code> works only when you request
<a class="reference internal" href="#factories-passing-classname-without-namespace"><span class="std std-ref">un nombre de clase sin un espacio de nombres</span></a> .</p>
</div>
</section>
<section id="comportamiento-de-las-fabricas">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Comportamiento de las fábricas</a><a class="headerlink" href="#comportamiento-de-las-fabricas" title="Link to this heading"></a></h2>
<p>Las opciones se pueden aplicar de una de tres maneras (enumeradas en prioridad ascendente):</p>
<ul class="simple">
<li><p>Una clase de configuración <code class="docutils literal notranslate"><span class="pre">Config\Factory</span></code> con una propiedad que coincide con el nombre de un componente.</p></li>
<li><p>El método estático <code class="docutils literal notranslate"><span class="pre">Factories::setOptions()</span></code>.</p></li>
<li><p>Pasar opciones directamente en el momento de la llamada con un parámetro.</p></li>
</ul>
<section id="configuraciones">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Configuraciones</a><a class="headerlink" href="#configuraciones" title="Link to this heading"></a></h3>
<p>Para configurar las opciones de componentes predeterminadas, cree nuevos archivos de configuración en <strong>app/Config/Factory.php</strong>
que proporciona opciones como una propiedad de matriz que coincide con el nombre del componente.</p>
<section id="ejemplo-fabricas-de-filtros">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Ejemplo: Fábricas de filtros</a><a class="headerlink" href="#ejemplo-fabricas-de-filtros" title="Link to this heading"></a></h4>
<p>Por ejemplo, si desea crear <strong>Filtros</strong> por fábricas, el nombre del componente será <code class="docutils literal notranslate"><span class="pre">filtros</span></code>.
Y si desea asegurarse de que cada filtro sea una instancia de una clase que implemente la <code class="docutils literal notranslate"><span class="pre">FilterInterface</span></code> de Higgs,
Su archivo <strong>app/Config/Factory.php</strong> podría verse así:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Config</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factory</span> <span class="k">as</span> <span class="nx">BaseFactory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Filters\FilterInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Factory</span> <span class="k">extends</span> <span class="nx">BaseFactory</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$filters</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;instanceOf&#39;</span> <span class="o">=&gt;</span> <span class="nx">FilterInterface</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ahora puedes crear un filtro con código como <code class="docutils literal notranslate"><span class="pre">Factories::filters('SomeFilter')</span></code>,
y la instancia devuelta seguramente será un filtro de Higgs.</p>
<p>Esto evitaría el conflicto de un módulo de terceros que tuviera un
ruta de <code class="docutils literal notranslate"><span class="pre">Filtros</span></code> no relacionada en su espacio de nombres.</p>
</section>
<section id="ejemplo-fabricas-de-bibliotecas">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Ejemplo: fábricas de bibliotecas</a><a class="headerlink" href="#ejemplo-fabricas-de-bibliotecas" title="Link to this heading"></a></h4>
<p>Si desea cargar las clases de su biblioteca en el directorio <strong>app/Libraries</strong> con
<code class="docutils literal notranslate"><span class="pre">Factories::library('SomeLib')</span></code>, la ruta <cite>Bibliotecas</cite> es diferente de la
ruta predeterminada <cite>Biblioteca</cite>.</p>
<p>En este caso, su archivo <strong>app/Config/Factory.php</strong> tendrá este aspecto:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">namespace</span> <span class="nx">Config</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factory</span> <span class="k">as</span> <span class="nx">BaseFactory</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Factory</span> <span class="k">extends</span> <span class="nx">BaseFactory</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$library</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Libraries&#39;</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ahora puedes cargar tus bibliotecas con el método <code class="docutils literal notranslate"><span class="pre">Factories::library()</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$someLib</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;SomeLib&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="metodo-setoptions">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Método setOptions</a><a class="headerlink" href="#metodo-setoptions" title="Link to this heading"></a></h3>
<p>La clase <code class="docutils literal notranslate"><span class="pre">Factories</span></code> tiene un método estático para permitir la configuración de opciones de tiempo de ejecución: simplemente
proporcione la variedad deseada de opciones usando el método <code class="docutils literal notranslate"><span class="pre">setOptions()</span></code> y serán
fusionado con los valores predeterminados y almacenado para la siguiente llamada:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Higgs\Filters\FilterInterface</span><span class="p">;</span>

<span class="nx">Factories</span><span class="o">::</span><span class="na">setOptions</span><span class="p">(</span><span class="s1">&#39;filters&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;instanceOf&#39;</span> <span class="o">=&gt;</span> <span class="nx">FilterInterface</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
    <span class="s1">&#39;prefersApp&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">]);</span>
</pre></div>
</div>
</section>
<section id="opciones-de-parametros">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Opciones de parámetros</a><a class="headerlink" href="#opciones-de-parametros" title="Link to this heading"></a></h3>
<p>La llamada mágica estática de <code class="docutils literal notranslate"><span class="pre">Factories</span></code> toma como segundo parámetro una matriz de valores de opciones.
Estas directivas anularán las opciones almacenadas configuradas para cada componente y se pueden
Se utiliza en el momento de la llamada para obtener exactamente lo que necesita. La entrada debe ser una matriz con opción.
nombres como claves para cada valor primordial.</p>
<p>Por ejemplo, de forma predeterminada <code class="docutils literal notranslate"><span class="pre">Factories</span></code> supone que desea ubicar una instancia compartida de
un componente. Al agregar un segundo parámetro a la llamada estática mágica, puede controlar si
esa única llamada devolverá una instancia nueva o compartida:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Higgs\Config\Factories</span><span class="p">;</span>

<span class="nv">$users</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;getShared&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">]);</span>  <span class="c1">// Default; will always be the same instance</span>
<span class="nv">$other</span> <span class="o">=</span> <span class="nx">Factories</span><span class="o">::</span><span class="na">models</span><span class="p">(</span><span class="s1">&#39;UserModel&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;getShared&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span> <span class="c1">// Will always create a new instance</span>
</pre></div>
</div>
</section>
</section>
<section id="configuracion-de-almacenamiento-en-cache">
<span id="factories-config-caching"></span><h2><a class="toc-backref" href="#id20" role="doc-backlink">Configuración de almacenamiento en caché</a><a class="headerlink" href="#configuracion-de-almacenamiento-en-cache" title="Link to this heading"></a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Nuevo en la versión 4.4.0.</span></p>
</div>
<p>Para mejorar el rendimiento, se ha implementado Config Caching.</p>
<section id="requisito-previo">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Requisito previo</a><a class="headerlink" href="#requisito-previo" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Importante</p>
<p>Using this feature when the prerequisites are not met will prevent
Higgs funcione correctamente. No utilice esta función en tales casos.</p>
</div>
<ul class="simple">
<li><p>Para utilizar esta característica, las propiedades de todos los objetos de configuración instanciados en
Las fábricas no se deben modificar después de la creación de instancias. Dicho de otra manera, la configuración
las clases deben ser clases inmutables o de solo lectura.</p></li>
<li><p>De forma predeterminada, cada clase de configuración que se almacena en caché debe implementar <code class="docutils literal notranslate"><span class="pre">__set_state()</span></code>
método.</p></li>
</ul>
</section>
<section id="como-funciona">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Cómo funciona</a><a class="headerlink" href="#como-funciona" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Guarde todas las instancias de configuración en las fábricas en un archivo de caché antes del apagado.
si cambia el estado de las instancias de configuración en las fábricas.</p></li>
<li><p>Restaurar instancias de configuración almacenadas en caché antes de la inicialización de Higgs si es un caché
está disponible.</p></li>
</ul>
<p>En pocas palabras, todas las instancias de configuración mantenidas por las fábricas se almacenan en caché inmediatamente antes.
para apagarse y las instancias almacenadas en caché se utilizan de forma permanente.</p>
</section>
<section id="como-actualizar-los-valores-de-configuracion">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Cómo actualizar los valores de configuración</a><a class="headerlink" href="#como-actualizar-los-valores-de-configuracion" title="Link to this heading"></a></h3>
<p>Una vez almacenadas, las versiones almacenadas en caché nunca caducan. Cambiar un archivo de configuración existente
(o cambiar las variables de entorno) no actualizará el caché ni la configuración
valores.</p>
<p>Entonces, si desea actualizar los valores de configuración, actualice los archivos de configuración o las variables de entorno.
para ellos y deberá eliminar manualmente el archivo de caché.</p>
<p>Puedes usar el comando <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">cache:clear</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">caché de chispa de php: borrar</span>
</pre></div>
</div>
<p>O simplemente elimine el archivo <strong>writable/cache/FactoriesCache_config</strong>.</p>
</section>
<section id="como-habilitar-el-almacenamiento-en-cache-de-configuracion">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Cómo habilitar el almacenamiento en caché de configuración</a><a class="headerlink" href="#como-habilitar-el-almacenamiento-en-cache-de-configuracion" title="Link to this heading"></a></h3>
<p>Descomente el siguiente código en <strong>public/index.php</strong>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">---</span> <span class="nx">a</span><span class="o">/</span><span class="k">public</span><span class="o">/</span><span class="nx">index</span><span class="o">.</span><span class="nx">php</span>
<span class="o">+++</span> <span class="nx">b</span><span class="o">/</span><span class="k">public</span><span class="o">/</span><span class="nx">index</span><span class="o">.</span><span class="nx">php</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">49</span><span class="p">,</span><span class="mi">8</span> <span class="o">+</span><span class="mi">49</span><span class="p">,</span><span class="mi">8</span> <span class="o">@@</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">definido</span><span class="p">(</span><span class="s1">&#39;MEDIOAMBIENTE&#39;</span><span class="p">))</span> <span class="p">{</span>
 <span class="p">}</span>

 <span class="c1">// Cargar caché de configuración</span>
<span class="o">-//</span> <span class="nv">$factoriesCache</span> <span class="o">=</span> <span class="nx">nuevo</span> <span class="nx">\Higgs\Cache\FactoriesCache</span><span class="p">();</span>
<span class="o">-//</span> <span class="nv">$factoriesCache</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">);</span>
<span class="o">+</span><span class="nv">$factoriesCache</span> <span class="o">=</span> <span class="nx">nuevo</span> <span class="nx">\Higgs\Cache\FactoriesCache</span><span class="p">();</span>
<span class="o">+</span><span class="nv">$factoriesCache</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">);</span>
 <span class="c1">// ^^^ Descomente estas líneas si desea utilizar Config Caching.</span>

 <span class="o">/*</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">79</span><span class="p">,</span><span class="mi">7</span> <span class="o">+</span><span class="mi">79</span><span class="p">,</span><span class="mi">7</span> <span class="o">@@</span> <span class="nv">$aplicación</span><span class="o">-&gt;</span><span class="na">setContext</span><span class="p">(</span><span class="nv">$contexto</span><span class="p">);</span>
 <span class="nv">$aplicación</span><span class="o">-&gt;</span><span class="na">ejecutar</span><span class="p">();</span>

 <span class="c1">// Guardar caché de configuración</span>
<span class="o">-//</span> <span class="nv">$factoriesCache</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">);</span>
<span class="o">+</span><span class="nv">$factoriesCache</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">);</span>
 <span class="c1">// ^^^ Descomente esta línea si desea utilizar Config Caching.</span>

 <span class="c1">// Sale de la aplicación y configura el código de salida para aplicaciones basadas en CLI</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="services.html" class="btn btn-neutral float-left" title="Servicios" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="http.html" class="btn btn-neutral float-right" title="Trabajar con solicitudes HTTP" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2012-2024 Jose Alexis Correa Valencia.
      <span class="lastupdated">Actualizado por última vez en jun 16, 2024.
      </span></p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>